{
  "pageContent": "File Path: tests/core/net/jforum/summary/SummaryTest.java\n\n Original Content: /*\n *\tClass created on Jul 15, 2005\n */ \npackage net.jforum.summary;\n\nimport java.util.Calendar;\nimport java.util.Collection;\nimport java.util.Date;\nimport java.util.Iterator;\nimport java.util.List;\n\nimport junit.framework.TestCase;\nimport net.jforum.TestCaseUtils;\nimport net.jforum.entities.Post;\n\nimport org.quartz.SchedulerException;\n\n/**\n * Test case for SummaryScheduler.\n * \n * @see net.jforum.summary.SummaryScheduler\n * \n * @author Franklin S. Dattein (<a href=\"mailto:franklin@hp.com\">franklin@hp.com</a>)\n *\n */\npublic class SummaryTest extends TestCase {\n    \n    protected void setUp() throws Exception {\n        super.setUp();\n        TestCaseUtils.loadEnvironment();\n        TestCaseUtils.initDatabaseImplementation();\n    }\n\n    /**\n     * Tests only the scheduler and your frquency.\n     * @throws Exception \n     *\n     */\n    public void testScheduler() throws Exception{\n                    \n        try {\n            SummaryScheduler.startJob();\n        } catch (SchedulerException e) {\n            e.printStackTrace();\n        }        \n    }\n    \n    public void testLoadRecipients() throws Exception{                         \n        SummaryModel model = new SummaryModel();\n        Iterator iter = model.listRecipients().iterator();\n        while (iter.hasNext()) {            \n            System.out.println(iter.next());            \n        }\n        assertTrue(model.listRecipients().size()>0);       \n    }\n    \n    public void testSendMails() throws Exception{\n        SummaryModel model = new SummaryModel();\n      //Do not uncommentuse this at least you want to send e-mails to all users.\n        List recipients = model.listRecipients();\n        //List recipients = new ArrayList(1);\n        //recipients.add(\"franklin@hp.com\");\n        \n        model.sendPostsSummary(recipients);\n       \n    }\n    \n    public void testListPosts() throws Exception{       \n        SummaryModel model= new SummaryModel();\n//      Gets a Date seven days before now\n        long weekBefore = Calendar.getInstance().getTimeInMillis() - (7 * 1000 * 60 * 60 * 24);\n        Date firstDate = new Date(weekBefore);\n        System.out.println(firstDate);\n        Collection posts = model.listPosts(firstDate,new Date());\n        Iterator iter = posts.iterator();\n        while (iter.hasNext()) {\n            Post post = (Post) iter.next();\n            System.out.println(post.getSubject());\n            \n        }\n        assertTrue(posts.size()>0);\n        \n    }\n}",
  "metadata": {
    "fileId": "SummaryTest_java_chunk_1",
    "fileName": "SummaryTest.java",
    "filePath": "tests/core/net/jforum/summary/SummaryTest.java"
  }
}
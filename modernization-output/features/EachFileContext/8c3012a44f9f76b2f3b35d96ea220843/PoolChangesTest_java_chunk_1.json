{
  "pageContent": "File Path: tests/core/net/jforum/entities/PoolChangesTest.java\n\n Original Content: /*\n * Created on 02/12/2005 19:23:32\n * The JForum Project\n * http://www.jforum.net\n */\npackage net.jforum.entities;\n\nimport junit.framework.TestCase;\n\n/**\n * @author Rafael Steil\n * @version $Id: PoolChangesTest.java,v 1.2 2006/04/29 14:14:27 rafaelsteil Exp $\n */\npublic class PoolChangesTest extends TestCase\n{\n\tpublic void testLabelOnlyShouldHaveChanged()\n\t{\n\t\tPoll p1 = new Poll();\n\t\tp1.setLabel(\"Label\");\n\t\tp1.addOption(new PollOption(1, \"Option 1\", 0));\n\t\t\n\t\tPoll p2 = new Poll();\n\t\tp2.setLabel(\"Label 2\");\n\t\tp2.addOption(new PollOption(1, \"Option 1\", 0));\n\t\t\n\t\tPollChanges changes = new PollChanges(p1, p2);\n\n\t\tassertTrue(changes.hasChanges());\n\t\tassertEquals(0, changes.getChangedOptions().size());\n\t\tassertEquals(0, changes.getDeletedOptions().size());\n\t\tassertEquals(0, changes.getNewOptions().size());\n\t}\n\t\n\tpublic void testShouldHave1Update()\n\t{\n\t\tPoll p1 = new Poll();\n\t\tp1.setLabel(\"Label\");\n\t\tp1.addOption(new PollOption(1, \"Option 1\", 0));\n\t\tp1.addOption(new PollOption(2, \"Option 2\", 0));\n\t\t\n\t\tPoll p2 = new Poll();\n\t\tp2.setLabel(\"Label\");\n\t\tp2.addOption(new PollOption(1, \"Option 1\", 0));\n\t\tp2.addOption(new PollOption(2, \"Option 2 changed\", 0));\n\t\t\n\t\tPollChanges changes = new PollChanges(p1, p2);\n\n\t\tassertTrue(changes.hasChanges());\n\t\tassertEquals(1, changes.getChangedOptions().size());\n\t\tassertEquals(new PollOption(2, \"Option 2 changed\", 0), changes.getChangedOptions().get(0));\n\t}\n\t\n\tpublic void testShouldHave3NewOptions()\n\t{\n\t\tPoll p1 = new Poll();\n\t\tp1.setLabel(\"Label\");\n\t\tp1.addOption(new PollOption(1, \"Option 1\", 0));\n\t\t\n\t\tPoll p2 = new Poll();\n\t\tp2.setLabel(\"Label\");\n\t\tp2.addOption(new PollOption(1, \"Option 1\", 0));\n\t\tp2.addOption(new PollOption(2, \"Option 2\", 0));\n\t\tp2.addOption(new PollOption(3, \"Option 3\", 0));\n\t\tp2.addOption(new PollOption(4, \"Option 4\", 0));\n\t\t\n\t\tPollChanges changes = new PollChanges(p1, p2);\n\t\t\n\t\tassertTrue(changes.hasChanges());\n\t\tassertEquals(3, changes.getNewOptions().size());\n\t\t\n\t\tassertEquals(new PollOption(2, \"Option 2\", 0), changes.getNewOptions().get(0));\n\t\tassertEquals(new PollOption(3, \"Option 3\", 0), changes.getNewOptions().get(1));\n\t\tassertEquals(new PollOption(4, \"Option 4\", 0), changes.getNewOptions().get(2));\n\t}\n\t\n\tpublic void testShouldHave2DeletedOptions()\n\t{\n\t\tPoll p1 = new Poll();\n\t\tp1.setLabel(\"Label\");\n\t\tp1.addOption(new PollOption(1, \"Option 1\", 0));\n\t\tp1.addOption(new PollOption(2, \"Option 2\", 0));\n\t\tp1.addOption(new PollOption(3, \"Option 3\", 0));\n\t\tp1.addOption(new PollOption(4, \"Option 4\", 0));\n\t\t\n\t\tPoll p2 = new Poll();\n\t\tp2.setLabel(\"Label\");\n\t\tp2.addOption(new PollOption(1, \"Option 1\", 0));\n\t\tp2.addOption(new PollOption(2, \"Option 2\", 0));\n\t\t\n\t\tPollChanges changes = new PollChanges(p1, p2);\n\t\t\n\t\tassertTrue(changes.hasChanges());\n\t\tassertEquals(2, changes.getDeletedOptions().size());\n\t\t\n\t\tassertEquals(new PollOption(3, \"Option 3\", 0), changes.getDeletedOptions().get(0));\n\t\tassertEquals(new PollOption(4, \"Option 4\", 0), changes.getDeletedOptions().get(1));\n\t}\n\t\n\tpublic void testShouldHaveNoChanges()\n\t{\n\t\tPoll p1 = new Poll();\n\t\tp1.setLabel(\"Label\");\n\t\tp1.addOption(new PollOption(1, \"Option 1\", 0));\n\t\tp1.addOption(new PollOption(2, \"Option 2\", 0));\n\t\t\n\t\tPoll p2 = new Poll();\n\t\tp2.setLabel(\"Label\");\n\t\tp2.addOption(new PollOption(1, \"Option 1\", 0));\n\t\tp2.addOption(new PollOption(2, \"Option 2\", 0));\n\t\t\n\t\tPollChanges changes = new PollChanges(p1, p2);\n\t\tassertFalse(changes.hasChanges());\n\t}\n}",
  "metadata": {
    "fileId": "PoolChangesTest_java_chunk_1",
    "fileName": "PoolChangesTest.java",
    "filePath": "tests/core/net/jforum/entities/PoolChangesTest.java"
  }
}
{
  "pageContent": "File Path: tests/core/net/jforum/entities/TopicTypeComparatorTest.java\n\n Original Content: /*\n * Created on 29/04/2006 10:48:18\n */\npackage net.jforum.entities;\n\nimport java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.GregorianCalendar;\nimport java.util.List;\n\nimport junit.framework.Assert;\nimport junit.framework.TestCase;\n\n/**\n * @author Rafael Steil\n * @version $Id: TopicTypeComparatorTest.java,v 1.2 2006/06/10 22:52:28 rafaelsteil Exp $\n */\npublic class TopicTypeComparatorTest extends TestCase\n{\n\tpublic void testPassRandomOrderExpectResultInCorrectOrder()\n\t{\n\t\tList l = new ArrayList();\n\t\t\n\t\tl.add(this.createTopic(Topic.TYPE_NORMAL, 1, \"Regular day 1\"));\n\t\tl.add(this.createTopic(Topic.TYPE_STICKY, 1, \"Sticky day 1\"));\n\t\tl.add(this.createTopic(Topic.TYPE_STICKY, 2, \"Sticky day 2\"));\n\t\tl.add(this.createTopic(Topic.TYPE_NORMAL, 3, \"Regular day 3\"));\n\t\tl.add(this.createTopic(Topic.TYPE_ANNOUNCE, 5, \"Announce day 5\"));\n\t\tl.add(this.createTopic(Topic.TYPE_ANNOUNCE, 4, \"Announce day 4\"));\n\t\tl.add(this.createTopic(Topic.TYPE_NORMAL, 6, \"Regular day 6\"));\n\t\tl.add(this.createTopic(Topic.TYPE_STICKY, 7, \"Sticky day 7\"));\n\t\t\n\t\tCollections.sort(l, new TopicTypeComparator());\n\t\t\n\t\tAssert.assertEquals(\"Announce day 5\", this.extractTitle(l, 0));\n\t\tAssert.assertEquals(\"Announce day 4\", this.extractTitle(l, 1));\n\t\tAssert.assertEquals(\"Sticky day 7\", this.extractTitle(l, 2));\n\t\tAssert.assertEquals(\"Sticky day 2\", this.extractTitle(l, 3));\n\t\tAssert.assertEquals(\"Sticky day 1\", this.extractTitle(l, 4));\n\t\tAssert.assertEquals(\"Regular day 6\", this.extractTitle(l, 5));\n\t\tAssert.assertEquals(\"Regular day 3\", this.extractTitle(l, 6));\n\t\tAssert.assertEquals(\"Regular day 1\", this.extractTitle(l, 7));\n\t}\n\t\n\tpublic void testCreateTwoTopicsThenAddAReply()\n\t{\n\t\tList l = new ArrayList();\n\t\t\n\t\tl.add(this.createTopic(Topic.TYPE_NORMAL, 1, \"Topic 1\"));\n\t\tl.add(this.createTopic(Topic.TYPE_NORMAL, 2, \"Topic 2\"));\n\t\t\n\t\tCollections.sort(l, new TopicTypeComparator());\n\t\t\n\t\tAssert.assertEquals(\"Topic 2\", this.extractTitle(l, 0));\n\t\tAssert.assertEquals(\"Topic 1\", this.extractTitle(l, 1));\n\t\t\n\t\t// Simulate a reply\n\t\t((Topic)l.get(1)).setLastPostDate(new GregorianCalendar(2006, 4, 3).getTime());\n\t\t\n\t\tCollections.sort(l, new TopicTypeComparator());\n\t\t\n\t\tAssert.assertEquals(\"Topic 1\", this.extractTitle(l, 0));\n\t\tAssert.assertEquals(\"Topic 2\", this.extractTitle(l, 1));\n\t}\n\t\n\tprivate String extractTitle(List l, int index)\n\t{\n\t\treturn ((Topic)l.get(index)).getTitle();\n\t}\n\t\n\tprivate Topic createTopic(int type, int day, String title)\n\t{\n\t\tTopic t = new Topic();\n\t\t\n\t\tt.setTitle(title);\n\t\tt.setType(type);\n\t\tt.setTime(new GregorianCalendar(2006, 4, day).getTime());\n\t\tt.setLastPostDate(t.getTime());\n\t\t\n\t\treturn t;\n\t}\n}",
  "metadata": {
    "fileId": "TopicTypeComparatorTest_java_chunk_1",
    "fileName": "TopicTypeComparatorTest.java",
    "filePath": "tests/core/net/jforum/entities/TopicTypeComparatorTest.java"
  }
}
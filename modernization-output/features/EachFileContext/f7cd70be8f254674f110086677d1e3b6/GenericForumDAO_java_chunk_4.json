{
  "pageContent": "File Path: src/net/jforum/dao/generic/GenericForumDAO.java\n\n Original Content: }\n\n\tpublic boolean isUserSubscribed(int forumId, int userId)\n\t{\n\t\tPreparedStatement stmt = null;\n\t\tResultSet rs = null;\n\t\ttry {\n\t\t\tstmt = JForumExecutionContext.getConnection().prepareStatement(\n\t\t\t\t\tSystemGlobals.getSql(\"ForumModel.isUserSubscribed\"));\n\n\t\t\tstmt.setInt(1, forumId);\n\t\t\tstmt.setInt(2, userId);\n\n\t\t\trs = stmt.executeQuery();\n\n\t\t\treturn rs.next();\n\t\t}\n\t\tcatch (SQLException e) {\n\t\t\tthrow new DatabaseException(e);\n\t\t}\n\t\tfinally {\n\t\t\tDbUtils.close(rs, stmt);\n\t\t}\n\t}\n\n\tpublic void removeSubscription(int forumId, int userId)\n\t{\n\t\tPreparedStatement p = null;\n\t\ttry {\n\t\t\tp = JForumExecutionContext.getConnection().prepareStatement(\n\t\t\t\t\tSystemGlobals.getSql(\"ForumModel.removeSubscription\"));\n\t\t\tp.setInt(1, forumId);\n\t\t\tp.setInt(2, userId);\n\n\t\t\tp.executeUpdate();\n\t\t}\n\t\tcatch (SQLException e) {\n\t\t\tthrow new DatabaseException(e);\n\t\t}\n\t\tfinally {\n\t\t\tDbUtils.close(p);\n\t\t}\n\n\t}\n\n\t/**\n\t * Remove all subscriptions on a forum, such as when a forum is locked. It is not used now.\n\t * \n\t * @param forumId int\n\t */\n\tpublic void removeSubscriptionByForum(int forumId)\n\t{\n\t\tPreparedStatement p = null;\n\t\ttry {\n\t\t\tp = JForumExecutionContext.getConnection().prepareStatement(\n\t\t\t\t\tSystemGlobals.getSql(\"ForumModel.removeSubscriptionByForum\"));\n\t\t\tp.setInt(1, forumId);\n\n\t\t\tp.executeUpdate();\n\t\t}\n\t\tcatch (SQLException e) {\n\t\t\tthrow new DatabaseException(e);\n\t\t}\n\t\tfinally {\n\t\t\tDbUtils.close(p);\n\t\t}\n\n\t}\n\t\n\t/**\n\t * @see net.jforum.dao.ForumDAO#discoverForumId(java.lang.String)\n\t */\n\tpublic int discoverForumId(String listEmail)\n\t{\n\t\tint forumId = 0;\n\t\t\n\t\tPreparedStatement p = null;\n\t\tResultSet rs = null;\n\t\t\n\t\ttry {\n\t\t\tp = JForumExecutionContext.getConnection().prepareStatement(\n\t\t\t\tSystemGlobals.getSql(\"ForumModel.discoverForumId\"));\n\t\t\tp.setString(1, listEmail);\n\t\t\trs = p.executeQuery();\n\t\t\t\n\t\t\tif (rs.next()) {\n\t\t\t\tforumId = rs.getInt(1);\n\t\t\t}\n\t\t}\n\t\tcatch (SQLException e) {\n\t\t\t\n\t\t}\n\t\tfinally {\n\t\t\tDbUtils.close(rs, p);\n\t\t}\n\t\t\n\t\treturn forumId;\n\t}\n}",
  "metadata": {
    "fileId": "GenericForumDAO_java_chunk_4",
    "fileName": "GenericForumDAO.java",
    "filePath": "src/net/jforum/dao/generic/GenericForumDAO.java"
  }
}